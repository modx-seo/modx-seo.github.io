const translations = {
    en: {
        meta_title: "MODX Web Development & SEO Services in Kyiv, Ukraine | @modx_pro",
        meta_desc: "Professional MODX CMF website development and SEO services in Kyiv, Ukraine. 19+ years in SEO, 15+ years with MODX, 50+ successful projects. Web development, local SEO, Google optimization.",
        bio: "Web Development & SEO on MODX CMF",
        stat_seo: "Senior SEO",
        stat_dev: "MODX Developer",
        stat_local: "Local SEO",
        stat_google: "Google Expert",
        tg_title: "Contact on Telegram",
        tg_desc: "@modx_pro - Let's discuss your project",
        about_title: "About Me",
        about_intro: "Who I am and what I do",
        about_1: "IT degree with 21+ years in web development, 19+ years in SEO - from the very beginning of search optimization, and 15+ years developing on MODX Revolution. I develop, optimize, and promote websites that dominate search results.",
        about_2: "<strong>Full cycle SEO:</strong><br>• On-Page: content, keywords, meta tags, headings, URLs, internal linking, images<br>• Off-Page: link building, local SEO, online listings, drop domains (finding relevant expired domains, link weight transfer, backlink profile recovery)<br>• Technical: site speed, mobile-friendliness, structured data, XML sitemaps",
        about_3: "<strong>Full cycle Web Development:</strong><br>• Planning: requirements analysis, market research, architecture, competitor research, prototyping<br>• Development: MODX CMF setup, custom templates, responsive design, multilingual support<br>• Optimization: speed tuning, SEO-ready structure, security hardening<br>• Launch & Support: testing, deployment, ongoing maintenance",
        about_4: "Working with me is like finding a great dentist - once you do, you don't switch.",
        about_5: "<strong>I don't work with these niches:</strong> escort, adult content, psychics, drugs, gambling, pyramid schemes.<br><strong>I don't work with CMS:</strong> WordPress, Joomla, Bitrix, Tilda, Wix and other website builders.",
        exp_seo: "years in SEO",
        exp_modx: "years with MODX",
        exp_webdev: "years in Web Dev",
        experience_title: "Experience",
        experience_intro: "My experience in web development and SEO promotion",
        services_title: "Services",
        services_intro: "My services for your business",
        tech_title: "Tech Stack",
        seo_stack_title: "SEO Stack",
        srv_web_title: "Web Development",
        srv_web_desc: "Fast, flexible MODX websites with multilingual support (EN, RU, UK)",
        srv_drop_title: "Drop Domains & Recovery",
        srv_drop_desc: "Expired domains, SEO weight transfer, Google penalty removal & diagnostics",
        srv_seo_title: "SEO",
        srv_seo_desc: "Search Engine Optimization - drive organic traffic & dominate search results",
        srv_local_title: "Local Search Pack & GEO SEO",
        srv_local_desc: "Regional visibility through local pack and Generative Engine Optimization",
        srv_llmo_title: "LLMO",
        srv_llmo_desc: "Preparing your content for AI-driven search and assistants",
        srv_mobile_title: "Mobile Optimization",
        srv_mobile_desc: "Perfect user experience across all screen sizes and devices",
        srv_security_title: "Security",
        srv_security_desc: "Protecting your website, data and users",
        srv_merchant_title: "Google Merchant & Shopping Ads",
        srv_merchant_desc: "Boosting the performance and reach of your online store",
        srv_analytics_title: "Analytics & Conversion",
        srv_analytics_desc: "Data-driven insights that support growth and measurable results",
        srv_auto_title: "Business Automation",
        srv_auto_desc: "Simplifying and optimizing your operational workflows",
        solutions_title: "Ready Solutions",
        solutions_intro: "My own tools and personal development projects",
        tool_culture_desc: "Multilingual routing generator with CSV import",
        tool_redirects_desc: "Bulk 301 redirects from CSV import",
        tool_keywords_desc: "Auto-generate keywords sorted by page frequency for schema markup",
        tool_cache_desc: "HTTP caching headers for browsers/CDN + asset versioning (CSS, JS, images)",
        tool_snippets_title: "MODX Custom Snippets & Plugins",
        tool_snippets_desc: "Custom solutions to improve site performance and workflow automation in MODX CMF",
        tool_ldjson_title: "LD-JSON Templates",
        tool_ldjson_desc: "Extended templates & presets for Local Search Pack schema markup",
        tool_ga_desc: "Traffic insights dashboard with CSV import",
        tool_gsc_desc: "Performance monitoring with CSV import",
        tool_merchant_desc: "Shopping data visualization with CSV import",
        tool_position_desc: "Dashboard for Topvisor data export with CSV import",
        footer: "Let's build something awesome ^^"
    },
    ru: {
        meta_title: "Разработка сайтов на MODX и SEO продвижение в Киеве | @modx_pro",
        meta_desc: "Профессиональная разработка сайтов на MODX CMF и SEO продвижение в Киеве, Украина. 19+ лет в SEO, 15+ лет с MODX, 50+ успешных проектов. Веб-разработка, локальное SEO, оптимизация под Google.",
        bio: "Разработка и SEO продвижение сайтов на MODX CMF",
        stat_seo: "Senior SEO",
        stat_dev: "MODX разработчик",
        stat_local: "Локальное SEO",
        stat_google: "Google эксперт",
        tg_title: "Написать в Telegram",
        tg_desc: "@modx_pro - Обсудим ваш проект",
        about_title: "Обо мне",
        about_intro: "Кто я и чем занимаюсь",
        about_1: "Высшее техническое образование в сфере IT, 21+ год в веб-разработке, 19+ лет в SEO - с самого начала зарождения поисковой оптимизации, и 15+ лет разработки на MODX Revolution. Разрабатываю, оптимизирую и продвигаю сайты, которые доминируют в поисковой выдаче.",
        about_2: "<strong>Полный цикл SEO:</strong><br>• On-Page: контент, ключевые слова, мета-теги, заголовки, URL, внутренняя перелинковка, изображения<br>• Off-Page: линкбилдинг, локальное SEO, каталоги, дроп-домены (поиск релевантных истёкших доменов, перекачка ссылочного веса, восстановление ссылочного профиля)<br>• Technical: скорость сайта, мобильная адаптация, структурированные данные, XML-карты",
        about_3: "<strong>Полный цикл разработки сайта:</strong><br>• Планирование: анализ требований, анализ рынка, архитектура, исследование конкурентов, прототипирование<br>• Разработка: настройка MODX CMF, кастомные шаблоны, адаптивный дизайн, мультиязычность<br>• Оптимизация: ускорение, SEO-структура, защита безопасности<br>• Запуск и поддержка: тестирование, деплой, техническое сопровождение",
        about_4: "Работа со мной - как найти хорошего стоматолога: однажды найдёшь - больше не меняешь.",
        about_5: "<strong>Не работаю с тематиками:</strong> эскорт, контент 18+, гадалки и ворожеи, наркотики, азартные игры, финансовые пирамиды.<br><strong>Не работаю с CMS:</strong> WordPress, Joomla, Bitrix, Tilda, Wix и прочие конструкторы сайтов.",
        exp_seo: "лет в SEO",
        exp_modx: "лет с MODX",
        exp_webdev: "лет в Web Dev",
        experience_title: "Опыт",
        experience_intro: "Мой опыт в разработке и SEO продвижении сайтов",
        services_title: "Услуги",
        services_intro: "Мои услуги для вашего бизнеса",
        tech_title: "Технологии",
        seo_stack_title: "SEO-инструменты",
        srv_web_title: "Веб-разработка",
        srv_web_desc: "Быстрые, гибкие сайты на MODX с мультиязычностью (EN, RU, UK)",
        srv_drop_title: "Дроп-домены и восстановление",
        srv_drop_desc: "Истёкшие домены, передача SEO-веса, снятие санкций Google и диагностика",
        srv_seo_title: "SEO",
        srv_seo_desc: "Поисковая оптимизация - органический трафик и доминирование в выдаче",
        srv_local_title: "Local Search Pack & GEO SEO",
        srv_local_desc: "Региональная видимость через локальный пак и генеративную оптимизацию",
        srv_llmo_title: "LLMO",
        srv_llmo_desc: "Подготовка контента для AI-поиска и ассистентов",
        srv_mobile_title: "Мобильная оптимизация",
        srv_mobile_desc: "Идеальный UX на всех экранах и устройствах",
        srv_security_title: "Безопасность",
        srv_security_desc: "Защита сайта, данных и пользователей",
        srv_merchant_title: "Google Merchant & Shopping Ads",
        srv_merchant_desc: "Повышение эффективности и охвата интернет-магазина",
        srv_analytics_title: "Аналитика и конверсии",
        srv_analytics_desc: "Data-driven инсайты для роста и измеримых результатов",
        srv_auto_title: "Автоматизация бизнеса",
        srv_auto_desc: "Упрощение и оптимизация рабочих процессов",
        solutions_title: "Готовые решения",
        solutions_intro: "Мои инструменты и персональные разработки",
        tool_culture_desc: "Генератор мультиязычных маршрутов с импортом CSV",
        tool_redirects_desc: "Массовые 301 редиректы из CSV",
        tool_keywords_desc: "Автогенерация ключевых слов по частоте на странице для микроразметки",
        tool_cache_desc: "HTTP-кэширование для браузеров/CDN + версионирование ассетов (CSS, JS, изображения)",
        tool_snippets_title: "Кастомные сниппеты и плагины MODX",
        tool_snippets_desc: "Решения для улучшения производительности и автоматизации в MODX CMF",
        tool_ldjson_title: "Шаблоны LD-JSON",
        tool_ldjson_desc: "Расширенные шаблоны и заготовки микроразметки для Local Search Pack",
        tool_ga_desc: "Дашборд трафика с импортом CSV",
        tool_gsc_desc: "Мониторинг производительности с импортом CSV",
        tool_merchant_desc: "Визуализация данных Shopping с импортом CSV",
        tool_position_desc: "Дашборд для экспорта данных Topvisor с импортом CSV",
        footer: "Создадим что-то крутое вместе ^^"
    },
    uk: {
        meta_title: "Розробка сайтів на MODX та SEO просування у Києві | @modx_pro",
        meta_desc: "Професійна розробка сайтів на MODX CMF та SEO просування у Києві, Україна. 19+ років у SEO, 15+ років з MODX, 50+ успішних проектів. Веб-розробка, локальне SEO, оптимізація під Google.",
        bio: "Розробка та SEO просування сайтів на MODX CMF",
        stat_seo: "Senior SEO",
        stat_dev: "MODX розробник",
        stat_local: "Локальне SEO",
        stat_google: "Google експерт",
        tg_title: "Написати в Telegram",
        tg_desc: "@modx_pro - Обговоримо ваш проект",
        about_title: "Про мене",
        about_intro: "Хто я і чим займаюсь",
        about_1: "Вища технічна освіта в сфері IT, 21+ рік у веб-розробці, 19+ років у SEO - з самого початку зародження пошукової оптимізації, та 15+ років розробки на MODX Revolution. Розробляю, оптимізую та просуваю сайти, які домінують у пошуковій видачі.",
        about_2: "<strong>Повний цикл SEO:</strong><br>• On-Page: контент, ключові слова, мета-теги, заголовки, URL, внутрішнє перелінкування, зображення<br>• Off-Page: лінкбілдінг, локальне SEO, каталоги, дроп-домени (пошук релевантних прострочених доменів, перекачка вагової ваги посилань, відновлення ссилкового профілю)<br>• Technical: швидкість сайту, мобільна адаптація, структуровані дані, XML-карти",
        about_3: "<strong>Повний цикл розробки сайту:</strong><br>• Планування: аналіз вимог, аналіз ринку, архітектура, дослідження конкурентів, прототипування<br>• Розробка: налаштування MODX CMF, кастомні шаблони, адаптивний дизайн, мультимовність<br>• Оптимізація: прискорення, SEO-структура, захист безпеки<br>• Запуск та підтримка: тестування, деплой, технічне супроводження",
        about_4: "Робота зі мною - як знайти хорошого стоматолога: одного разу знайдеш - більше не міняєш.",
        about_5: "<strong>Не працюю з тематиками:</strong> ескорт, контент 18+, ворожки та гадалки, наркотики, азартні ігри, фінансові піраміди.<br><strong>Не працюю з CMS:</strong> WordPress, Joomla, Bitrix, Tilda, Wix та інші конструктори сайтів.",
        exp_seo: "років у SEO",
        exp_modx: "років з MODX",
        exp_webdev: "років у Web Dev",
        experience_title: "Досвід",
        experience_intro: "Мій досвід у розробці та SEO просуванні сайтів",
        services_title: "Послуги",
        services_intro: "Мої послуги для вашого бізнесу",
        tech_title: "Технології",
        seo_stack_title: "SEO-інструменти",
        srv_web_title: "Веб-розробка",
        srv_web_desc: "Швидкі, гнучкі сайти на MODX з мультимовністю (EN, RU, UK)",
        srv_drop_title: "Дроп-домени та відновлення",
        srv_drop_desc: "Прострочені домени, передача SEO-ваги, зняття санкцій Google та діагностика",
        srv_seo_title: "SEO",
        srv_seo_desc: "Пошукова оптимізація - органічний трафік та домінування у видачі",
        srv_local_title: "Local Search Pack & GEO SEO",
        srv_local_desc: "Регіональна видимість через локальний пак та генеративну оптимізацію",
        srv_llmo_title: "LLMO",
        srv_llmo_desc: "Підготовка контенту для AI-пошуку та асистентів",
        srv_mobile_title: "Мобільна оптимізація",
        srv_mobile_desc: "Ідеальний UX на всіх екранах та пристроях",
        srv_security_title: "Безпека",
        srv_security_desc: "Захист сайту, даних та користувачів",
        srv_merchant_title: "Google Merchant & Shopping Ads",
        srv_merchant_desc: "Підвищення ефективності та охоплення інтернет-магазину",
        srv_analytics_title: "Аналітика та конверсії",
        srv_analytics_desc: "Data-driven інсайти для зростання та вимірюваних результатів",
        srv_auto_title: "Автоматизація бізнесу",
        srv_auto_desc: "Спрощення та оптимізація робочих процесів",
        solutions_title: "Готові рішення",
        solutions_intro: "Мої інструменти та персональні розробки",
        tool_culture_desc: "Генератор мультимовних маршрутів з імпортом CSV",
        tool_redirects_desc: "Масові 301 редиректи з CSV",
        tool_keywords_desc: "Автогенерація ключових слів за частотою на сторінці для мікророзмітки",
        tool_cache_desc: "HTTP-кешування для браузерів/CDN + версіонування ассетів (CSS, JS, зображення)",
        tool_snippets_title: "Кастомні сніпети та плагіни MODX",
        tool_snippets_desc: "Рішення для покращення продуктивності та автоматизації в MODX CMF",
        tool_ldjson_title: "Шаблони LD-JSON",
        tool_ldjson_desc: "Розширені шаблони та заготовки мікророзмітки для Local Search Pack",
        tool_ga_desc: "Дашборд трафіку з імпортом CSV",
        tool_gsc_desc: "Моніторинг продуктивності з імпортом CSV",
        tool_merchant_desc: "Візуалізація даних Shopping з імпортом CSV",
        tool_position_desc: "Дашборд для експорту даних Topvisor з імпортом CSV",
        footer: "Створимо щось круте разом ^^"
    }
};

let currentLang = localStorage.getItem('lang') || 'en';

const langNames = {
    en: 'EN',
    ru: 'RU',
    uk: 'UK'
};

function setLanguage(lang) {
    currentLang = lang;
    localStorage.setItem('lang', lang);
    document.documentElement.lang = lang;
    
    // Update current language display
    document.querySelector('.lang-text').textContent = langNames[lang];
    
    // Update active button
    document.querySelectorAll('.lang-btn').forEach(btn => {
        btn.classList.toggle('active', btn.dataset.lang === lang);
    });
    
    // Update meta tags
    document.title = translations[lang].meta_title;
    document.querySelector('meta[name="description"]').setAttribute('content', translations[lang].meta_desc);
    
    // Update all translatable elements
    document.querySelectorAll('[data-i18n]').forEach(el => {
        const key = el.dataset.i18n;
        if (translations[lang][key]) {
            if (key === 'about_2' || key === 'about_3' || key === 'about_5') {
                el.innerHTML = translations[lang][key];
            } else {
                el.textContent = translations[lang][key];
            }
        }
    });
    
    // Close dropdown after selection
    document.querySelector('.lang-switcher').classList.remove('open');
}

function toggleLangDropdown() {
    document.querySelector('.lang-switcher').classList.toggle('open');
}

// Close dropdown when clicking outside
document.addEventListener('click', (e) => {
    const langSwitcher = document.querySelector('.lang-switcher');
    if (langSwitcher && !langSwitcher.contains(e.target)) {
        langSwitcher.classList.remove('open');
    }
});

// Initialize
document.addEventListener('DOMContentLoaded', () => {
    setLanguage(currentLang);
    
    document.querySelectorAll('.lang-btn').forEach(btn => {
        btn.addEventListener('click', () => setLanguage(btn.dataset.lang));
    });
});

// Toggle Ready Solutions
function toggleSolutions() {
    const header = document.querySelector('.section-header.collapsible');
    const content = document.querySelector('.solutions-content');
    
    header.classList.toggle('active');
    content.classList.toggle('collapsed');
}

// Theme Switcher
function toggleTheme() {
    const currentTheme = document.documentElement.getAttribute('data-theme');
    const newTheme = currentTheme === 'dark' ? 'light' : 'dark';
    
    document.documentElement.setAttribute('data-theme', newTheme);
    localStorage.setItem('theme', newTheme);
}

// Initialize theme
document.addEventListener('DOMContentLoaded', () => {
    const savedTheme = localStorage.getItem('theme') || 'light';
    document.documentElement.setAttribute('data-theme', savedTheme);
});
